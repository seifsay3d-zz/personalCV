if (self.CavalryLogger) { CavalryLogger.start_js(["ZR9Du"]); }

__d("VideoChannelLoggerEventTargets",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CLOSE:"close",WASH:"wash",PREVIOUS_ARROW:"previous_arrow",PREVIOUS_ARROW_KEY:"previous_arrow_key",NEXT_ARROW:"next_arrow",NEXT_ARROW_KEY:"next_arrow_key",UP_NEXT:"up_next",THUMBNAIL:"thumbnail",SHOW_SIDE_PANE:"show_side_pane",HIDE_SIDE_PANE:"hide_side_pane",SHARE:"share",WATCH_AND_SCROLL:"watch_and_scroll",BACK:"back",WNS:"wns",STORY_HEADER:"story_header",SECONDARY_ACTION:"secondary_action",FULLSCREEN:"fullscreen",STORY_DESCRIPTION:"story_description",ACTION_LINK:"action_link",UFI_COUNTS:"ufi_counts",LIKE:"like",COMMENT:"comment",STORY:"story"};}),null);
__d("VideoHomeRequestStatus",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SUCCEEDED:"succeeded",FAILED:"failed",ABORTED:"aborted"};}),null);
__d("XChannelToWatchAndScrollNuxController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/channel-to-wns\/nux\/",{});}),null);
__d("XChannelToWatchAndScrollNuxDismissController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/channel-to-wns\/nux\/dismiss\/",{});}),null);
__d('VideoChannelWatchAndScrollIcon.react',['cx','fbt','AsyncRequest','Image.react','React','XUIAmbientNUX.react','XChannelToWatchAndScrollNuxController','XChannelToWatchAndScrollNuxDismissController'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={nuxShown:false},this.$VideoChannelWatchAndScrollIcon1=null,this.$VideoChannelWatchAndScrollIcon2=function(event){var s=c('XChannelToWatchAndScrollNuxDismissController').getURIBuilder().getURI(),t=new (c('AsyncRequest'))().setURI(s);t.send();this.props.onClick(event);}.bind(this),this.renderLayers=function(){return (c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.icon;}.bind(this),onCloseButtonClick:function(){return this.setState({nuxShown:false});}.bind(this),position:'left',shown:this.state.nuxShown,width:'auto',key:'wns'},i._("You can now enter Watch and Scroll to continue browsing!")));}.bind(this),o;}m.prototype.componentDidMount=function(){'use strict';var n=c('XChannelToWatchAndScrollNuxController').getURIBuilder().getURI();this.$VideoChannelWatchAndScrollIcon1=new (c('AsyncRequest'))().setURI(n).setHandler(function(o){if(!o)return;if(o.payload)this.setState({nuxShown:o.payload.shouldShow});}.bind(this));this.$VideoChannelWatchAndScrollIcon1.send();};m.prototype.componentWillUnmount=function(){'use strict';this.$VideoChannelWatchAndScrollIcon1&&this.$VideoChannelWatchAndScrollIcon1.abandon();};m.prototype.render=function(){'use strict';return (c('React').createElement('span',null,c('React').createElement('a',{href:'#',className:"_27p2",onClick:this.$VideoChannelWatchAndScrollIcon2,ref:'icon'},c('React').createElement(c('Image.react'),{alt:i._("Enter Watch and Scroll"),height:14,src:'/images/video/player/embedded_controls/icons/wns.png',width:14})),this.renderLayers()));};m.propTypes={onClick:l.func.isRequired};f.exports=m;}),null);
__d("XVideoHomeAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/home\/async\/{id}\/",{id:{type:"String",required:true},session_id:{type:"String",required:true},data_source:{type:"String",required:true},channel_position:{type:"Int",required:true},cursor:{type:"String"},count:{type:"Int",defaultValue:4}});}),null);
__d('VideoHomeCarousel',['collectDataAttributes','AsyncRequest','DOM','VideoHomeLogger','VideoHomeEvents','VideoHomeRequestStatus','VideoHomeLoggerFields','XVideoHomeAsyncController'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={},i={};function j(k,l,m,n,o,p,q){'use strict';this.$VideoHomeCarousel1=k;this.$VideoHomeCarousel2=l;this.$VideoHomeCarousel3=m;this.$VideoHomeCarousel4=n;this.$VideoHomeCarousel5=o;this.$VideoHomeCarousel6=p;this.$VideoHomeCarousel7=q;this.$VideoHomeCarousel8=null;this.$VideoHomeCarousel9=5;if(!this.$VideoHomeCarousel6)this.$VideoHomeCarousel1.endCarousel();this.$VideoHomeCarousel1.subscribe('needsitems',this.$VideoHomeCarousel10.bind(this));}j.register=function(k,l,m,n,o,p,q,r,s){'use strict';var t=l.map(function(u){return c('collectDataAttributes')(u.children[0],['ft']);});h[o]=new j(k,m,n,o,p,q,r);i[o]={videoIDs:s,feedTrackingData:t,cursorInfo:{cursor:r,hasNextPage:q}};};j.getChannelInfoMap=function(){'use strict';return i;};j.load=function(k,l,m,n,o){'use strict';var p=l.map(function(s){return c('collectDataAttributes')(s.children[0],['ft']);}),q=i[k];q.videoIDs=q.videoIDs.concat(o);q.feedTrackingData=q.feedTrackingData.concat(p);q.cursorInfo.cursor=n;q.cursorInfo.hasNextPage=m;var r=h[k];r.$VideoHomeCarousel6=m;r.$VideoHomeCarousel7=n;r.$VideoHomeCarousel8=null;if(l&&l.length){l=l.map(function(s){return c('DOM').create('li',{},s);});r.$VideoHomeCarousel1.addItems(l);}if(!m)r.$VideoHomeCarousel1.endCarousel();};j.prototype.$VideoHomeCarousel10=function(){'use strict';if(!this.$VideoHomeCarousel6||this.$VideoHomeCarousel8!==null)return;var k=this.$VideoHomeCarousel3,l=this.$VideoHomeCarousel4,m=c('XVideoHomeAsyncController').getURIBuilder().setString('session_id',this.$VideoHomeCarousel2).setString('data_source',k).setInt('channel_position',this.$VideoHomeCarousel5).setString('id',l);if(this.$VideoHomeCarousel7)m.setString('cursor',this.$VideoHomeCarousel7);var n=m.getURI(),o=Date.now();function p(r){var s={};s[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').LOAD_ITEMS;s[c('VideoHomeLoggerFields').REQUEST_STATUS]=r;s[c('VideoHomeLoggerFields').PERF_TIME_MS]=Date.now()-o;s[c('VideoHomeLoggerFields').DATA_SOURCE]=k;s[c('VideoHomeLoggerFields').CHANNEL_ID]=l;c('VideoHomeLogger').log(s);}var q=new (c('AsyncRequest'))().setURI(n).setHandler(function(){p(c('VideoHomeRequestStatus').SUCCEEDED);}).setAbortHandler(function(){p(c('VideoHomeRequestStatus').ABORTED);}).setErrorHandler(function(){p(c('VideoHomeRequestStatus').FAILED);if(q!==this.$VideoHomeCarousel8)return;if(this.$VideoHomeCarousel9>0){this.$VideoHomeCarousel8.abort();this.$VideoHomeCarousel8=null;this.$VideoHomeCarousel10();this.$VideoHomeCarousel9--;}else this.$VideoHomeCarousel1.endCarousel();}.bind(this));this.$VideoHomeCarousel8=q;q.send();};f.exports=j;}),null);
__d('VideoStripThumbnailPlaceholder.react',['cx','React','XUICarouselItem.react'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=this.props.thumbnailWidth,n=this.props.thumbnailHeight,o={height:n+'px',width:m+'px'},p="_4n83"+(this.props.pageLead?' '+"_3ger":''),q=c('React').createElement('span',{className:p,style:o},c('React').createElement('div',{className:"_4n84"}));return (c('React').createElement(c('XUICarouselItem.react'),{selected:false},q));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={pageLead:k.bool,thumbnailWidth:k.number.isRequired,thumbnailHeight:k.number.isRequired};f.exports=l;}),null);
__d('VideoStripThumbnailCarousel.react',['csx','cx','fbt','invariant','ix','CSS','DOM','DOMContainer.react','Image.react','React','VideoChannelViewVariables','VideoStripThumbnailPlaceholder.react','XUICarousel.react','XUICarouselAnimator','XUICarouselArrow.react','XUICarouselItem.react','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j,k,l){var m,n;if(c.__markCompiled)c.__markCompiled();var o=c('React').PropTypes,p=85,q=8,r=60,s=8,t=c('VideoChannelViewVariables').thumbnailRedesign,u=t?82:0,v=t?12:0,w=16,x=t?-4:16;m=babelHelpers.inherits(y,c('React').Component);n=m&&m.prototype;function y(z,aa){'use strict';n.constructor.call(this,z,aa);this.$VideoStripThumbnailCarousel1=0;this.$VideoStripThumbnailCarousel2=0;this.$VideoStripThumbnailCarousel3=0;this.$VideoStripThumbnailCarousel4=0;this.state={pageNumber:0};}y.prototype.shouldComponentUpdate=function(z,aa){'use strict';return c('shallowCompare')(this,z,aa);};y.prototype.componentWillUpdate=function(z,aa){'use strict';if(this.props.index!==z.index){var ba=Math.floor(z.index/this.$VideoStripThumbnailCarousel3);if(ba!==aa.pageNumber)this.setState({pageNumber:ba});}};y.prototype.$VideoStripThumbnailCarousel5=function(){'use strict';var z=y.calculateThumbDimensions(this.props.dialogWidth,this.props.extraThumbnailHeight);this.$VideoStripThumbnailCarousel1=z.width;this.$VideoStripThumbnailCarousel2=z.height;this.$VideoStripThumbnailCarousel3=z.thumbnailsPerPage;this.$VideoStripThumbnailCarousel4=this.$VideoStripThumbnailCarousel6(this.$VideoStripThumbnailCarousel1);};y.calculateThumbDimensions=function(z,aa){'use strict';var ba=p+aa,ca=ba*1.7778,da=z-x,ea=Math.floor(da/(ca+q)),fa=da-ea*q,ga=Math.ceil(fa/(ea+.5)),ha=ga*.5625;return {width:ga,height:ha,thumbnailsPerPage:ea};};y.getVideoStripHeight=function(z,aa){'use strict';var ba=y.calculateThumbDimensions(z,aa);return ba.height+s+w+u-v;};y.prototype.$VideoStripThumbnailCarousel6=function(z){'use strict';var aa=this.props.dialogWidth;if(!this.props.hasNext){var ba=this.props.thumbnails.length+this.props.pendingPreviousThumbnails;aa=Math.min(aa,ba*(z+q));}return aa;};y.prototype.$VideoStripThumbnailCarousel7=function(z,aa,ba,ca,da){'use strict';if(ca===this.props.dialogWidth&&da===0&&this.props.pendingPreviousThumbnails===0){c('CSS').addClass(z,t?"_533":"_3ger");}else c('CSS').removeClass(z,t?"_533":"_3ger");var ea=c('DOM').find(z,"._38a3");c('DOM').setAttributes(z,{style:{width:aa+'px'}});c('DOM').setAttributes(ea,{style:{width:aa+'px',height:ba+'px'}});return (c('React').createElement(c('XUICarouselItem.react'),{key:da},c('React').createElement(c('DOMContainer.react'),null,z)));};y.prototype.$VideoStripThumbnailCarousel8=function(z){'use strict';!(this.state.pageNumber!==0)?k(0):void 0;this.setState({pageNumber:this.state.pageNumber-1});z.stopPropagation();};y.prototype.$VideoStripThumbnailCarousel9=function(z,aa){'use strict';var ba=this.state.pageNumber+1;if(aa)ba=this.state.pageNumber;this.setState({pageNumber:ba});z.stopPropagation();};y.prototype.$VideoStripThumbnailCarousel10=function(z){'use strict';var aa=-((r+u)/2),ba={marginTop:aa+'px'},ca=l('/images/vault/arrow_left.png'),da=l('/images/vault/arrow_right.png');if(t){ca=l('/images/video/related_videos/pivots_chevron/chevron-left.png');da=l('/images/video/related_videos/pivots_chevron/chevron-right.png');}return [c('React').createElement('div',{className:"_1ed1",style:ba},c('React').createElement(c('XUICarouselArrow.react'),{disabled:this.state.pageNumber===0,onClick:function(ea){return this.$VideoStripThumbnailCarousel8(ea);}.bind(this)},c('React').createElement(c('Image.react'),{alt:j._("Prev"),src:ca}))),c('React').createElement('div',{className:"_1ed1",style:ba},c('React').createElement(c('XUICarouselArrow.react'),{disabled:z,onClick:function(ea){return this.$VideoStripThumbnailCarousel9(ea,z);}.bind(this)},c('React').createElement(c('Image.react'),{alt:j._("Next"),src:da})))];};y.prototype.render=function(){'use strict';this.$VideoStripThumbnailCarousel5();var z=new (c('XUICarouselAnimator'))({type:'horizontal'}),aa=null,ba=this.$VideoStripThumbnailCarousel3*this.state.pageNumber,ca=ba+this.$VideoStripThumbnailCarousel3,da=Math.min(ca,this.props.thumbnails.length-1);if(this.$VideoStripThumbnailCarousel4===this.props.dialogWidth){var ea=ca>this.props.thumbnails.length;aa=this.$VideoStripThumbnailCarousel10(ea);}var fa=this.props.thumbnails,ga=[];for(var ha=0;ha<this.props.pendingPreviousThumbnails;ha++)ga.push(c('React').createElement(c('VideoStripThumbnailPlaceholder.react'),{pageLead:ha===0,thumbnailWidth:this.$VideoStripThumbnailCarousel1,thumbnailHeight:this.$VideoStripThumbnailCarousel2,key:ha-this.props.pendingPreviousThumbnails}));for(ha=ba;ha<=ca;ha++)if(ha<=da){ga.push(this.$VideoStripThumbnailCarousel7(fa[ha],this.$VideoStripThumbnailCarousel1,this.$VideoStripThumbnailCarousel2,this.$VideoStripThumbnailCarousel4,ha-ba));}else if(this.props.hasNext)ga.push(c('React').createElement(c('VideoStripThumbnailPlaceholder.react'),{thumbnailWidth:this.$VideoStripThumbnailCarousel1,thumbnailHeight:this.$VideoStripThumbnailCarousel2,key:ha-ba}));if(da<ca&&this.props.hasNext){this.props.loadNextItems();}else this.props.onAllItemsLoaded();var ia=this.$VideoStripThumbnailCarousel2+s+u;return (c('React').createElement(c('XUICarousel.react'),{animator:z,arrows:aa,initialAutoplay:false,initialIndex:0,onItemClick:function ja(){return null;},resizeViewport:'disabled',viewportHeight:ia,viewportWidth:this.$VideoStripThumbnailCarousel4,wrapAround:this.state.pageNumber!==0},ga));};y.propTypes={dialogWidth:o.number.isRequired,extraThumbnailHeight:o.number.isRequired,hasNext:o.bool.isRequired,index:o.number.isRequired,loadNextItems:o.func.isRequired,pendingPreviousThumbnails:o.number.isRequired,thumbnails:o.arrayOf(o.object).isRequired};f.exports=y;}),null);
__d('VideoChannelController',['ix','csx','cx','fbt','Arbiter','CSS','DOM','DOMDimensions','DialogX','Event','Image.react','LayerDestroyOnHide','LayerHideOnEscape','LayerHideOnTransition','React','ReactDOM','StreamViewportTracking','Style','SubscriptionsHandler','VideoAutoplayControllerX','VideoChainingCaller','VideoChannel','VideoChannelLogger','VideoChannelLoggerEventTargets','VideoChannelLoggerEvents','VideoChannelLoggerFields','VideoChannelStoryFetcher','VideoChannelViewVariables','VideoChannelWatchAndScrollIcon.react','VideoHomeCarousel','VideoPlayerExperiments','VideoPlayerReason','VideoStripThumbnailCarousel.react','VideoWatchAndScrollController','ViewportTrackingConfig','collectDataAttributes','fbglyph','getElementPosition','getVendorPrefixedName','getViewportDimensions','throttle','StreamingReactionsTrayEvents'],(function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=c('VideoChannelViewVariables').dynamicAspectRatios,m=l?720:560,n=1060,o=.1,p=1080,q=c('VideoChannelViewVariables').videoRedesign,r=c('VideoChannelViewVariables').wnsFromChannel,s=q?121:300,t=q?438:480,u=2160,v=3840,w=600;function x(y,z,aa,ba,ca,da){'use strict';this.$VideoChannelController1=y;this.$VideoChannelController2=z;this.$VideoChannelController3=aa;this.$VideoChannelController34=da;this.$VideoChannelController4=[];this.$VideoChannelController13=new (c('SubscriptionsHandler'))();this.$VideoChannelController24=false;if(ba&&l){var ea=ba.getVideoNode(),fa=ba.getRootNode(),ga=ea.getAttribute('data-original-aspect-ratio');this.$VideoChannelController11=c('DOMDimensions').getElementDimensions(fa);if(!ga)ga=this.getOriginalAspectRatio();this.$VideoChannelController35(parseFloat(ga));ba.setDimensions(this.$VideoChannelController20,this.$VideoChannelController19);}else this.$VideoChannelController35();this.$VideoChannelController25=true;this.$VideoChannelController5=false;this.$VideoChannelController6=null;this.$VideoChannelController36();this.$VideoChannelController28=!!ca&&ca.isFromWNS;this.$VideoChannelController27=!!ca&&ca.isFromVideoViewCarousel;this.$VideoChannelController29=[];this.$VideoChannelController30=[];this.$VideoChannelController31=0;this.$VideoChannelController33=c('StreamViewportTracking').factory(c('ViewportTrackingConfig'),this.$VideoChannelController8);if(!this.$VideoChannelController28)c('VideoChannelLogger').startSession(aa,y,z);var ha=null;if(ba){this.$VideoChannelController24=true;this.$VideoChannelController5=ba.isAd();this.$VideoChannelController6=ba.getAdClientToken();var ia=ba.getRootNode();ha=c('collectDataAttributes')(ia,['ft']);if(!l)this.$VideoChannelController11=c('DOMDimensions').getElementDimensions(ia);var ja=c('getElementPosition')(ia);ba.setIsInChannel(true);if(!this.$VideoChannelController28)this.$VideoChannelController37(ba);this.$VideoChannelController38(ja,ba);ba.emit('VideoChannelController/enterChannel',{});c('VideoAutoplayControllerX').setShouldAutoplay(false);ba.play(c('VideoPlayerReason').USER);ba.unmute();this.$VideoChannelController4.push(ba);}else this.$VideoChannelController39();if(ca&&this.$VideoChannelController28){this.$VideoChannelController30=ca.videoPlayerControllers;this.$VideoChannelController31=ca.channelVideoIndex;this.$VideoChannelController29=ca.channelInteractionsToRegister;this.$VideoChannelController32=ca.rootVideoPlayerController;if(this.$VideoChannelController32)this.$VideoChannelController32.setIsInChannel(true);if(this.$VideoChannelController32)this.$VideoChannelController5=this.$VideoChannelController32.isAd();if(ca.storyFetcher)this.$VideoChannelController26=ca.storyFetcher;}if(ca&&this.$VideoChannelController27){var ka=ca.originalVideoIds,la=ca.shouldFetchMoreVideos;this.$VideoChannelController26=new (c('VideoChannelStoryFetcher'))(this.$VideoChannelController3,this.$VideoChannelController1,z,this.$VideoChannelController6,null,ka,la);}if(!this.$VideoChannelController26)this.$VideoChannelController26=new (c('VideoChannelStoryFetcher'))(this.$VideoChannelController3,this.$VideoChannelController1,z,this.$VideoChannelController6,c('VideoHomeCarousel').getChannelInfoMap()[this.$VideoChannelController1]);this.$VideoChannelController13.addSubscriptions(c('Event').listen(window,'resize',c('throttle')(this.$VideoChannelController40.bind(this),200)));this.$VideoChannelController26.fetchFirstStory(this.$VideoChannelController24,ha,this.$VideoChannelController31>0);c('Arbiter').inform('VideoChannelView/opened',{controller:ba});}x.prototype.getWnsChannelVideoIndex=function(){'use strict';return this.$VideoChannelController31;};x.prototype.getViewportTracker=function(){'use strict';return this.$VideoChannelController33;};x.prototype.isOpen=function(){'use strict';return this.$VideoChannelController25;};x.prototype.getOriginalAspectRatio=function(){'use strict';return this.$VideoChannelController11.width/this.$VideoChannelController11.height;};x.prototype.$VideoChannelController40=function(event){'use strict';this.$VideoChannelController35();c('Arbiter').inform(c('StreamingReactionsTrayEvents').ResizeChannelViewWindow,{videoWidth:this.$VideoChannelController20,videoHeight:this.$VideoChannelController19});};x.prototype.$VideoChannelController35=function(){var y=arguments.length<=0||arguments[0]===undefined?16/9:arguments[0];'use strict';var z=c('getViewportDimensions').withoutScrollbars();if(!this.$VideoChannelController14||this.$VideoChannelController14.width!==z.width||this.$VideoChannelController14.height!==z.height){this.$VideoChannelController14=z;this.$VideoChannelController15=Math.max(m,z.height);this.$VideoChannelController16=Math.max(n,z.width);var aa=o*(Math.min(p,this.$VideoChannelController15)-m);if(this.isFromAd())aa=0;var ba=s+aa*2;if(q){var ca=c('VideoStripThumbnailCarousel.react').getVideoStripHeight(this.$VideoChannelController16,aa);ba=s+ca;}var da=Math.min(u,this.$VideoChannelController15-ba),ea=Math.min(v,this.$VideoChannelController16-t);this.$VideoChannelController17=ea;this.$VideoChannelController18=da;var fa=Math.min(da,ea*(1/y)),ga=Math.min(ea,da*y);this.setVideoDimensions(ga,Math.floor(fa),aa);if(this.$VideoChannelController12)this.$VideoChannelController12.onWindowResize();}};x.prototype.registerVideoController=function(y){'use strict';if(this.$VideoChannelController4.includes(y))return;this.$VideoChannelController4.push(y);y.setDimensions(this.$VideoChannelController20,this.$VideoChannelController19);};x.prototype.setVideoDimensions=function(y,z,aa){'use strict';this.$VideoChannelController20=y;this.$VideoChannelController19=z;this.$VideoChannelController21=aa;this.$VideoChannelController4.forEach(function(ba){ba.setDimensions(this.$VideoChannelController20,this.$VideoChannelController19);}.bind(this));};x.prototype.findVideoControllerForStory=function(y){'use strict';return this.$VideoChannelController4.find(function(z){if(y.contains(z.getRootNode()))return true;return false;});};x.prototype.getVideoControllers=function(){'use strict';return this.$VideoChannelController4;};x.prototype.getAvailableHeight=function(){'use strict';return this.$VideoChannelController41()-this.$VideoChannelController42();};x.prototype.$VideoChannelController41=function(){'use strict';return this.$VideoChannelController15;};x.prototype.$VideoChannelController42=function(){'use strict';if(this.isFromAd())return 0;return c('VideoStripThumbnailCarousel.react').getVideoStripHeight(this.$VideoChannelController43(),this.getExtraThumbnailHeight());};x.prototype.getAvailableWidth=function(){'use strict';return this.$VideoChannelController43();};x.prototype.$VideoChannelController43=function(){'use strict';return this.$VideoChannelController16;};x.prototype.getVideoHeight=function(){'use strict';return this.$VideoChannelController19;};x.prototype.getVideoWidth=function(){'use strict';return this.$VideoChannelController20;};x.prototype.getAvailableVideoWidth=function(){'use strict';return this.$VideoChannelController17;};x.prototype.getAvailableVideoHeight=function(){'use strict';return this.$VideoChannelController18;};x.prototype.getExtraThumbnailHeight=function(){'use strict';return this.$VideoChannelController21;};x.prototype.getOriginalVideoPlayerController=function(){'use strict';if(this.$VideoChannelController24)return this.$VideoChannelController4[0];return null;};x.prototype.getWNSRootVideoPlayerController=function(){'use strict';return this.$VideoChannelController32;};x.prototype.getDialog=function(){'use strict';return this.$VideoChannelController7;};x.prototype.getDialogContent=function(){'use strict';return this.$VideoChannelController8;};x.prototype.getInteraction=function(){'use strict';return this.$VideoChannelController12;};x.prototype.setInteraction=function(y){'use strict';this.$VideoChannelController12=y;};x.prototype.registerWNSVideoControllers=function(){'use strict';var y=this.$VideoChannelController12;if(!y)return;var z=this.$VideoChannelController30;if(z&&z.length){z.forEach(function(aa){y.registerVideoController(aa);});this.$VideoChannelController30=[];}};x.prototype.registerChannelInteractionsFromWNS=function(){'use strict';var y=this.$VideoChannelController12;if(!y)return;this.$VideoChannelController29.forEach(function(z){z();});this.$VideoChannelController29=[];};x.prototype.getStoryFetcher=function(){'use strict';return this.$VideoChannelController26;};x.prototype.isCameFromVidewViewCarousel=function(){'use strict';return this.$VideoChannelController27;};x.prototype.fetchStories=function(y,z,aa){'use strict';this.$VideoChannelController26.fetchStories(y,z,aa);};x.prototype.hideLoadingState=function(){'use strict';if(this.$VideoChannelController22){c('DOM').remove(this.$VideoChannelController22);this.$VideoChannelController22=null;}if(this.$VideoChannelController23){c('DOM').remove(this.$VideoChannelController23);this.$VideoChannelController23=null;}};x.prototype.$VideoChannelController39=function(){'use strict';this.$VideoChannelController22=c('DOM').create('div',{className:"_5tl5"});c('DOM').appendContent(document.body,this.$VideoChannelController22);var y=(this.getAvailableHeight()-this.getVideoHeight())/2,z=(this.$VideoChannelController43()-this.getVideoWidth())/2;c('Style').set(this.$VideoChannelController22,'height',this.getVideoHeight()+'px');c('Style').set(this.$VideoChannelController22,'width',this.getVideoWidth()+'px');c('Style').set(this.$VideoChannelController22,'left',z+'px');c('Style').set(this.$VideoChannelController22,'top',y+'px');};x.prototype.$VideoChannelController37=function(y){'use strict';var z=y.getRootNode();this.$VideoChannelController9=c('DOM').create('div',{className:"_344x"});this.$VideoChannelController9.style.height=this.$VideoChannelController11.height+'px';this.$VideoChannelController9.style.width=this.$VideoChannelController11.width+'px';c('DOM').insertAfter(z,this.$VideoChannelController9);};x.prototype.$VideoChannelController36=function(){'use strict';var y={fixedTopPosition:0,width:n,xui:true,addedBehaviors:[c('LayerDestroyOnHide'),c('LayerHideOnEscape'),c('LayerHideOnTransition')]},z=c('DOM').create('div'),aa=null;if(r)aa=c('React').createElement('span',{className:"_ia9"});var ba=q||r;c('ReactDOM').render(c('React').createElement('span',null,aa,c('React').createElement('a',{className:"_5tl7"+(ba?' '+"_hjd":''),href:'#'},c('React').createElement(c('Image.react'),{alt:k._("Close"),src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/cross_20_fig-white.png")}))),z);var ca=new (c('DialogX'))(y,z);c('CSS').addClass(ca.getRoot(),"_19u-");if(l)c('CSS').addClass(ca.getRoot(),"_5p7p");c('Style').set(ca.getContentRoot(),'width','100%');this.$VideoChannelController7=ca;this.$VideoChannelController8=z;this.$VideoChannelController10=ca.subscribe('hide',this.$VideoChannelController44.bind(this));ca.show();var da=c('DOM').find(z,"._5tl7"),ea=c('DOM').find(ca.getRoot(),"._3ixn");this.$VideoChannelController13.addSubscriptions(c('Event').listen(da,'click',this.$VideoChannelController45.bind(this)),c('Event').listen(ea,'click',this.$VideoChannelController46.bind(this)));};x.prototype.$VideoChannelController47=function(y){'use strict';var z={};z[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').CLICK;z[c('VideoChannelLoggerFields').EVENT_TARGET]=y;c('VideoChannelLogger').log(z);};x.prototype.$VideoChannelController46=function(event){'use strict';this.$VideoChannelController47(c('VideoChannelLoggerEventTargets').WASH);this.$VideoChannelController7.hide();};x.prototype.$VideoChannelController45=function(event){'use strict';this.$VideoChannelController47(c('VideoChannelLoggerEventTargets').CLOSE);this.$VideoChannelController7.hide();event.preventDefault();};x.prototype.$VideoChannelController48=function(event){'use strict';this.$VideoChannelController47(c('VideoChannelLoggerEventTargets').WATCH_AND_SCROLL);this.close(true);this.$VideoChannelController7.hide();event.preventDefault();};x.prototype.$VideoChannelController38=function(y,z){'use strict';var aa=c('DOM').create('div',{className:"_3x4t"});this.$VideoChannelController23=aa;c('DOM').appendContent(this.$VideoChannelController8,aa);var ba=z.getRootNode();c('DOM').appendContent(aa,ba);var ca=y.width,da=y.height;if(l){ca=this.getVideoWidth();da=this.getVideoHeight();}else{da*=this.getVideoWidth()/ca;ca=this.getVideoWidth();if(da>this.getVideoHeight()){ca*=this.getVideoHeight()/da;da=this.getVideoHeight();}}var ea=(this.getAvailableHeight()-this.getVideoHeight())/2,fa=(this.$VideoChannelController43()-this.getVideoWidth())/2,ga=(this.getVideoHeight()-da)/2,ha=(this.getVideoWidth()-ca)/2,ia=y.y-ea-ga,ja=y.x-fa-ha,ka=y.width/ca;c('Style').set(aa,c('getVendorPrefixedName')('transform'),'translate('+ja+'px,'+ia+'px) scale('+ka+')');c('Style').set(aa,'left',fa+'px');c('Style').set(aa,'top',ea+'px');c('Style').set(aa,'padding',ga+'px '+ha+'px');z.setDimensions(ca,da);if(this.isFromAd()&&ca>w&&!z.isHD()&&z.hasHD())z.toggleHD();aa.offsetWidth;c('Style').set(aa,'transition','all .35s cubic-bezier(.46,.22,.36,1) .1s');c('Style').set(aa,c('getVendorPrefixedName')('transform'),'none');};x.prototype.$VideoChannelController44=function(){'use strict';if(!this.isOpen())return;this.close();};x.prototype.isFromAd=function(){'use strict';return this.$VideoChannelController5;};x.prototype.getAdClientToken=function(){'use strict';return this.$VideoChannelController6;};x.prototype.getVideoChainingCaller=function(){'use strict';return this.$VideoChannelController2;};x.prototype.hasNext=function(){'use strict';return this.$VideoChannelController26.hasNext();};x.prototype.updateWNSEligibilityButton=function(y){'use strict';if(!this.$VideoChannelController8)return;var z=c('DOM').scry(this.$VideoChannelController8,"._ia9"),aa=z[0];if(!aa)return;if(y){c('ReactDOM').render(c('React').createElement(c('VideoChannelWatchAndScrollIcon.react'),{onClick:function(ba){return this.$VideoChannelController48(ba);}.bind(this)}),aa);}else c('ReactDOM').unmountComponentAtNode(aa);};x.prototype.close=function(y){var z,aa=this;'use strict';if(!this.$VideoChannelController25)return;this.$VideoChannelController25=false;this.$VideoChannelController33.updateTimeTrackingData(true);this.$VideoChannelController26.abandonRequest();var ba=this.$VideoChannelController12;if(y===undefined)y=this.$VideoChannelController28;var ca=0;if(y)ca=ba?ba.getCurrentAbsoluteIndex():0;var da=y&&ba?ba.getVideoController():this.$VideoChannelController4[ca];if(this.$VideoChannelController24||y){var ea=true;if(da.isState('finished'))ea=false;if((!ba||ba.isCenterVideoActive())&&da.isState('paused'))ea=false;this.$VideoChannelController4.forEach(function(ia){ia.setIsInChannel(false);});if(y){(function(){var ia,ja=aa.$VideoChannelController4;if(ba)(function(){var oa={};ja.forEach(function(pa){var qa=ba.findStoryForVideoController(pa);if(qa){var ra=ba.getStoryIndex(qa);oa[pa.getVideoID()]=ra;}});ja.sort(function(pa,qa){var ra=oa[pa.getVideoID()],sa=oa[qa.getVideoID()];return ra-sa;});})();var ka=aa.$VideoChannelController26.getPreloadedData(),la=ka.stories,ma=[ja[0].getRootNode()].concat(la),na=c('VideoWatchAndScrollController').getReactContainer();if(na){na.setState({channelVideoElements:[]},function(){na.setState({channelVideoElements:ma,videoIndex:ca},function(){c('VideoWatchAndScrollController').resetFromChannelView(this.$VideoChannelController26,ja,ca);}.bind(this));}.bind(aa));}else c('VideoWatchAndScrollController').startFromChannelView(aa.$VideoChannelController26,ja,ca,ma,{dimensions:aa.$VideoChannelController11,videoRootNode:aa.$VideoChannelController9?aa.$VideoChannelController9.parentNode:null});})();}else{var fa=da.getRootNode();c('DOM').insertAfter(this.$VideoChannelController9,fa);c('DOM').remove(this.$VideoChannelController9);if(!da.isState('fallback'))da.setDimensions(this.$VideoChannelController11.width,this.$VideoChannelController11.height);}if(ea&&!y){da.pause(c('VideoPlayerReason').AUTOPLAY);if(!c('VideoPlayerExperiments').keepVolumeOnAfterChannelExit)da.mute();da.emit('resumeAutoplay');}da.emit('VideoChannelController/exitChannel');}else if(!y)da=null;for(var ga=0;ga<this.$VideoChannelController4.length;ga++){var ha=this.$VideoChannelController4[ga];if(da!==ha){ha.pause(c('VideoPlayerReason').USER);if(!y)ha.abortLoading();}}this.hideLoadingState();if(this.$VideoChannelController12)this.$VideoChannelController12.onChannelClose();this.$VideoChannelController7.hide();this.$VideoChannelController10.unsubscribe();this.$VideoChannelController13.release();if(!y)c('VideoChannelLogger').endSession();c('Arbiter').inform('VideoChannelView/closed');c('VideoAutoplayControllerX').setShouldAutoplay(true);c('VideoChannel').set(null);if(this.$VideoChannelController34)this.$VideoChannelController34();};x.openFromVideoPlayer=function(y,z,aa,ba){'use strict';if(y.isState('fallback'))return;var ca=y.getOption('VideoWithInstreamVideo','controller');if(ca)y=ca;if(c('VideoChannel').get())c('VideoChannel').get().getDialog().hide();c('VideoChannel').set(new x(z,aa,y.getVideoID(),y.isPlayerVersion('silvercity')?null:y,ba));};x.getVideoChannel=function(){'use strict';return c('VideoChannel').get();};x.isChannelActive=function(){'use strict';return !!c('VideoChannel').get();};f.exports=x;}),null);